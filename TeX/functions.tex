% here's some helper functions needed...

% check if variable defined...
\newcommand {\isDefined} [3] {
	% fist check if variable is defined...
	\ifdefined #1
		% then check if the variable is not dumping strings...
		\setbox0=\hbox{#1\unskip}\ifdim\wd0=0pt
			% variable assumed not-defined...
			#3
		\else
			% variable assumed defined...
			#2
		\fi
	\else
		% variable assumed not-defined...
		#3
	\fi
}
